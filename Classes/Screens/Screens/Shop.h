#ifndef CONST_SHOP_H
#define CONST_SHOP_H

#include "Screen.h"

#include "BuyItem.h"
#include "GetCoins.h"

#include "AppDelegate.h"

class TouchLayer;

class Shop : public Screen
{
    protected:
        // ===========================================================
        // Inner Classes
        // ===========================================================

        // ===========================================================
        // Constants
        // ===========================================================

        static Shop* m_Instance;

        // ===========================================================
        // Fields
        // ===========================================================
    
        Entity* mBackground;
        Entity* mCoin;
        
        Button* mBackButton;
        Button* mTablet;

        Text* mCoinsCountText;

        // ===========================================================
        // Constructors
        // ===========================================================

        // ===========================================================
        // Methods
        // ===========================================================

        // ===========================================================
        // Override Methods
        // ===========================================================

    private:
        // ===========================================================
        // Inner Classes
        // ===========================================================

        // ===========================================================
        // Constants
        // ===========================================================

        const int ITEMS_COUNT[3] = { 6, 4, 8 };

        // ===========================================================
        // Fields
        // ===========================================================

        // ===========================================================
        // Constructors
        // ===========================================================

        // ===========================================================
        // Methods
        // ===========================================================

        static void onTouchButtonsCallback(const int pAction, const int pID);
        
        // ===========================================================
        // Override Methods
        // ===========================================================

    public:
        // ===========================================================
        // Inner Classes
        // ===========================================================

        // ===========================================================
        // Constants
        // ===========================================================

        // ===========================================================
        // Fields
        // ===========================================================
    
        BatchEntityManager* mWheels;
        BatchEntityManager* mItems[3];
        EntityManager* mShelfs[3];
        
        TouchLayer* mLayers[3];
    
        Popup* mBuyItemPopup;
        Popup* mGetCoinsPopup;

        // ===========================================================
        // Constructors
        // ===========================================================
    
        Shop();

        // ===========================================================
        // Methods
        // ===========================================================
        
        // ===========================================================
        // Override Methods
        // ===========================================================
    
        void onEnter();
        void onExit();
};

#endif